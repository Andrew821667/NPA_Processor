# NPA Processor

–ú–æ–¥—É–ª—å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã—Ö –∞–∫—Ç–æ–≤ (–ù–ü–ê) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API publication.pravo.gov.ru –∏ GPT –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞.

## –ê–≤—Ç–æ—Ä
**Andrew_Popov**

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ù–ü–ê –∏–∑ —Ç–µ–∫—Å—Ç–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GPT –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- üìã **–ü–æ–∏—Å–∫ –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –±–∞–∑–µ**: –ò—â–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ API publication.pravo.gov.ru
- üéØ **–£–º–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏**: –°–ª–æ–∂–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–∫–æ—Ä–∏–Ω–≥–∞ –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üìä **–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel**: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞
- üöÄ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–∏—Å–∫–∞**: –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É, –Ω–∞–∑–≤–∞–Ω–∏—é, –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -r requirements.txt
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```python
from npa_searcher import NPAProcessor

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è OpenAI API –∫–ª—é—á)
processor = NPAProcessor(openai_api_key="your-api-key")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
text = """
–í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–º –∑–∞–∫–æ–Ω–æ–º ‚Ññ273-–§–ó "–û–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –≤ –†–§" 
–∏ –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ ‚Ññ1490...
"""

results = processor.process_text(text)

# –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
filename = processor.export_to_excel(results)
print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ {filename}")
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```python
{
    'successful': [],     # –ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ù–ü–ê
    'amendments': [],     # –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫ –ù–ü–ê
    'failed': [],        # –ù–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
    'errors': [],        # –û—à–∏–±–∫–∏ –ø–æ–∏—Å–∫–∞
    'extraction_info': {
        'total_extracted': 0,
        'npa_extracted': 0,
        'letters_extracted': 0
    }
}
```

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

- –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –∑–∞–∫–æ–Ω—ã (–§–ó)
- –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –†–§
- –ü—Ä–∏–∫–∞–∑—ã –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤ –∏ –≤–µ–¥–æ–º—Å—Ç–≤
- –£–∫–∞–∑—ã –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–§
- –ü–∏—Å—å–º–∞ –∏ —Ä–∞–∑—ä—è—Å–Ω–µ–Ω–∏—è
- –ö–æ–¥–µ–∫—Å—ã (–ì–ö –†–§, –£–ö –†–§ –∏ —Ç.–¥.)
- –ü–æ–ª–æ–∂–µ–Ω–∏—è, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–¥—É–ª—è

### NPAProcessor
–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ –≤ –ø—Ä–æ—Å—Ç–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

### NPASearcher
–ü–æ–∏—Å–∫–æ–≤–∏–∫ –ù–ü–ê —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API. –†–µ–∞–ª–∏–∑—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–∏—Å–∫–∞.

### GPTHelper
GPT –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞

```python
from npa_searcher import NPASearcher

searcher = NPASearcher()

document = {
    'type': '–§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –∑–∞–∫–æ–Ω',
    'number': '273-–§–ó',
    'title': '–û–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏'
}

results = searcher.search_document(document)
for result in results:
    print(f"–ù–∞–π–¥–µ–Ω: {result['name']}")
    print(f"EO –Ω–æ–º–µ—Ä: {result['eoNumber']}")
    print(f"Score: {result['score']}")
```

### –¢–æ–ª—å–∫–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```python
from npa_searcher import GPTHelper

gpt = GPTHelper(api_key="your-key")

text = "–°–æ–≥–ª–∞—Å–Ω–æ –§–ó ‚Ññ44 –∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é ‚Ññ1490..."
extracted = gpt.extract_documents(text)

print(f"–ù–∞–π–¥–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {len(extracted['all_documents'])}")
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `npa_searcher/config.py`:

- API endpoints
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫–æ—Ä–∏–Ω–≥–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ GPT
- –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- OpenAI API –∫–ª—é—á
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issues –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
